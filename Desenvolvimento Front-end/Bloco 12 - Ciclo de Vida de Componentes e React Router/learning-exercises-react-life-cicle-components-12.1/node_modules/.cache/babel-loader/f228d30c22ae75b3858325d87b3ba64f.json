{"ast":null,"code":"var _jsxFileName = \"/home/samnas/Trybe/trybe_exercicios/Desenvolvimento Front-end/Bloco 12 - Ciclo de Vida de Componentes e React Router/learning-exercises-react-life-cicle-components-12.1/src/DadJoke.jsx\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass DadJoke extends React.Component {\n  constructor() {\n    super();\n\n    this.fetchJoke = async () => {\n      const URL_API = \"https://icanhazdadjoke.com/\";\n      const HEADERS_API = {\n        headers: {\n          Accept: 'application/json'\n        }\n      };\n      this.setState({\n        loading: true\n      }, async () => {\n        const request = await fetch(URL_API, HEADERS_API);\n        const requestObj = await request.json();\n        this.setState({\n          loading: false,\n          jokeObj: requestObj\n        });\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.fetchJoke();\n    };\n\n    this.renderJokeElement = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: this.state.jokeObj.joke\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: this.saveJoke,\n          children: \"Salvar Piada\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.state = {\n      jokeObj: undefined,\n      loading: true,\n      arrayOfJokes: []\n    };\n  }\n\n  saveJoke() {\n    this.setState(_ref => {\n      let {\n        arrayOfJokes,\n        jokeObj\n      } = _ref;\n      return {\n        arrayOfJokes: [...arrayOfJokes, jokeObj]\n      };\n    });\n    this.fetchJoke();\n    console.log('ok');\n  }\n\n  render() {\n    const {\n      jokeObj,\n      arrayOfJokes,\n      loading\n    } = this.state;\n\n    const loadingElement = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \" Loading... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 28\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: arrayOfJokes.map(_ref2 => {\n          let {\n            id,\n            joke\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            children: joke\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 46\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", loading ? loadingElement : this.renderJokeElement]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default DadJoke;","map":{"version":3,"sources":["/home/samnas/Trybe/trybe_exercicios/Desenvolvimento Front-end/Bloco 12 - Ciclo de Vida de Componentes e React Router/learning-exercises-react-life-cicle-components-12.1/src/DadJoke.jsx"],"names":["React","DadJoke","Component","constructor","fetchJoke","URL_API","HEADERS_API","headers","Accept","setState","loading","request","fetch","requestObj","json","jokeObj","componentDidMount","renderJokeElement","state","joke","saveJoke","undefined","arrayOfJokes","console","log","render","loadingElement","map","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,OAAN,SAAsBD,KAAK,CAACE,SAA5B,CAAqC;AACnCC,EAAAA,WAAW,GAAE;AACX;;AADW,SASbC,SATa,GASD,YAAY;AACtB,YAAMC,OAAO,GAAG,6BAAhB;AACA,YAAMC,WAAW,GAAI;AAAEC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,MAAM,EAAE;AAAV;AAAX,OAArB;AAEA,WAAKC,QAAL,CACE;AAAEC,QAAAA,OAAO,EAAE;AAAX,OADF,EAEE,YAAY;AACV,cAAMC,OAAO,GAAG,MAAMC,KAAK,CAACP,OAAD,EAAUC,WAAV,CAA3B;AACA,cAAMO,UAAU,GAAG,MAAMF,OAAO,CAACG,IAAR,EAAzB;AACA,aAAKL,QAAL,CAAc;AACZC,UAAAA,OAAO,EAAE,KADG;AAEZK,UAAAA,OAAO,EAAEF;AAFG,SAAd;AAID,OATH;AAUD,KAvBY;;AAAA,SAyBbG,iBAzBa,GAyBO,MAAM;AACxB,WAAKZ,SAAL;AACD,KA3BY;;AAAA,SAuCba,iBAvCa,GAuCO,MAAM;AACxB,0BACE;AAAA,gCACA;AAAA,oBAAI,KAAKC,KAAL,CAAWH,OAAX,CAAmBI;AAAvB;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,OAAO,EAAE,KAAKC,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAQD,KAhDY;;AAEX,SAAKF,KAAL,GAAY;AACVH,MAAAA,OAAO,EAAEM,SADC;AAEVX,MAAAA,OAAO,EAAC,IAFE;AAGVY,MAAAA,YAAY,EAAE;AAHJ,KAAZ;AAKD;;AAsBDF,EAAAA,QAAQ,GAAG;AACT,SAAKX,QAAL,CAAc;AAAA,UAAC;AAAEa,QAAAA,YAAF;AAAgBP,QAAAA;AAAhB,OAAD;AAAA,aAAgC;AAC5CO,QAAAA,YAAY,EAAE,CAAC,GAAGA,YAAJ,EAAkBP,OAAlB;AAD8B,OAAhC;AAAA,KAAd;AAIA,SAAKX,SAAL;AACAmB,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACD;;AAeDC,EAAAA,MAAM,GAAE;AAEN,UAAM;AAAEV,MAAAA,OAAF;AAAWO,MAAAA,YAAX;AAAyBZ,MAAAA;AAAzB,QAAqC,KAAKQ,KAAhD;;AACA,UAAMQ,cAAc,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAvB;;AAEA,wBACE;AAAA,8BACE;AAAA,kBACGJ,YAAY,CAACK,GAAb,CAAiB;AAAA,cAAC;AAACC,YAAAA,EAAD;AAAKT,YAAAA;AAAL,WAAD;AAAA,8BAAiB;AAAA,sBAAaA;AAAb,aAAQS,EAAR;AAAA;AAAA;AAAA;AAAA,kBAAjB;AAAA,SAAjB;AADH;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAA,wBAAMlB,OAAO,GAAGgB,cAAH,GAAmB,KAAKT,iBAArC;AAAA;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AASD;;AAlEkC;;AAqErC,eAAehB,OAAf","sourcesContent":["import React from \"react\";\n\nclass DadJoke extends React.Component{\n  constructor(){\n    super()\n    this.state= {\n      jokeObj: undefined,\n      loading:true,\n      arrayOfJokes: [],\n    }\n  }\n\n  fetchJoke = async () => {\n    const URL_API = \"https://icanhazdadjoke.com/\";\n    const HEADERS_API =  { headers: { Accept: 'application/json' } }\n\n    this.setState(\n      { loading: true },\n      async () => {\n        const request = await fetch(URL_API, HEADERS_API);\n        const requestObj = await request.json();\n        this.setState({\n          loading: false,\n          jokeObj: requestObj,\n        });\n      });\n  }\n  \n  componentDidMount = () => {\n    this.fetchJoke();\n  }\n  \n  saveJoke() {\n    this.setState(({ arrayOfJokes, jokeObj }) => ({\n      arrayOfJokes: [...arrayOfJokes, jokeObj]\n    }));\n\n    this.fetchJoke();\n    console.log('ok');\n  }\n\n\n  renderJokeElement = () => {\n    return (\n      <div>\n      <p>{this.state.jokeObj.joke}</p>\n      <button type=\"button\" onClick={this.saveJoke}>\n        Salvar Piada\n      </button>\n    </div>\n    )\n  }\n  \n  \n  render(){\n\n    const { jokeObj, arrayOfJokes, loading } = this.state;\n    const loadingElement = <span> Loading... </span>;\n\n    return (\n      <div>\n        <span>\n          {arrayOfJokes.map(({id, joke}) => (<p key={id}>{joke}</p>))}\n        </span>\n\n        <p> { loading ? loadingElement: this.renderJokeElement}</p>\n      </div>\n    )\n  }\n}\n\nexport default DadJoke \n\n\n"]},"metadata":{},"sourceType":"module"}